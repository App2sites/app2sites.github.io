{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lilach Karagula\\\\Desktop\\\\Work from home managementsystem\\\\wfh-mate\\\\src\\\\components\\\\waterBreakTimer\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { message } from 'antd';\nimport { WATER_TONE } from '../../helpers/sounds';\nimport Switch from '../../uiElements/switch';\nimport DesktopNotification from '../../uiElements/desktopNotification';\nimport ProgressBar from '../../uiElements/progress';\nimport useLocalStorage from '../../hooks/useLocalStorage';\nimport useReduceTimer from '../../hooks/useReduceTimer';\nimport PlusIcon from \"../icons/plus.svg\";\nimport MinusIcon from \"../icons/minus.svg\";\nimport PlayButton from \"../icons/play.svg\";\nimport StopButton from \"../icons/stop.svg\";\nimport './waterBreak.css';\nvar waterTimerSetIntervalTime = 0;\n\nconst WaterBreakTimer = () => {\n  const [waterBreakTime, setWaterBreakTime] = useState({\n    seconds: 0,\n    minutes: 20\n  });\n  const [showDesktopNotification, setDesktopNotification] = useState(false);\n  const [isWaterBreakStartClicked, setWaterBreakStartClicked] = useState(false);\n  const [{\n    state: isEnableNotification,\n    setState: setEnableNotification\n  }] = useLocalStorage('isDesktopNotificationWater', true);\n  const [state, setState] = useReduceTimer({\n    minutes: 0,\n    seconds: 0\n  }, isWaterBreakStartClicked);\n  useEffect(() => {\n    if ((state === null || state === void 0 ? void 0 : state.seconds) === 0 && (state === null || state === void 0 ? void 0 : state.minutes) === 0) {\n      setState(prevBreakTime => {\n        return { ...prevBreakTime,\n          minutes: waterBreakTime === null || waterBreakTime === void 0 ? void 0 : waterBreakTime.minutes,\n          seconds: 0\n        };\n      });\n    }\n  }, [state, setState, waterBreakTime]);\n  useEffect(() => {\n    return () => clearInterval(waterTimerSetIntervalTime);\n  }, []);\n\n  const handleSetInterval = () => {\n    waterTimerSetIntervalTime = setInterval(function () {\n      setDesktopNotification(true);\n      setState({\n        minutes: (waterBreakTime === null || waterBreakTime === void 0 ? void 0 : waterBreakTime.minutes) - 1,\n        seconds: 59\n      });\n    }, (waterBreakTime === null || waterBreakTime === void 0 ? void 0 : waterBreakTime.minutes) * 60000);\n  };\n\n  const handleIncrement = () => {\n    if ((waterBreakTime === null || waterBreakTime === void 0 ? void 0 : waterBreakTime.minutes) < 30) {\n      setWaterBreakTime(prevBreakTime => {\n        return { ...prevBreakTime,\n          minutes: prevBreakTime.minutes + 10\n        };\n      });\n      setState(prevState => {\n        return { ...prevState,\n          minutes: prevState.minutes + 10\n        };\n      });\n    }\n  };\n\n  const handleDecrement = () => {\n    if ((waterBreakTime === null || waterBreakTime === void 0 ? void 0 : waterBreakTime.minutes) > 20) {\n      setWaterBreakTime(prevBreakTime => {\n        return { ...prevBreakTime,\n          minutes: prevBreakTime.minutes - 10\n        };\n      });\n      setState(prevState => {\n        return { ...prevState,\n          minutes: prevState.minutes - 10\n        };\n      });\n    }\n  };\n\n  const handleStart = () => {\n    setWaterBreakStartClicked(true);\n    setState(waterBreakTime);\n    handleSetInterval();\n    message.info('!התחלתי לספור');\n  };\n\n  const handleEnd = () => {\n    setWaterBreakStartClicked(false);\n    setState({\n      seconds: 0,\n      minutes: waterBreakTime === null || waterBreakTime === void 0 ? void 0 : waterBreakTime.minutes\n    });\n    clearInterval(waterTimerSetIntervalTime);\n  };\n\n  const resetValue = () => {\n    setDesktopNotification(false);\n  };\n\n  const handleSwitchChange = value => {\n    setEnableNotification(value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"water-break-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"notify-text-water\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ProgressBar, {\n    time: state,\n    totalTime: waterBreakTime === null || waterBreakTime === void 0 ? void 0 : waterBreakTime.minutes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"water-break-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"figure\", {\n    className: \"timer-icons\",\n    onClick: handleStart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"timer-img\",\n    src: PlayButton,\n    alt: \"play/pause\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 63\n    }\n  })), /*#__PURE__*/React.createElement(\"figure\", {\n    className: \"timer-icons\",\n    onClick: handleEnd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"timer-img\",\n    src: StopButton,\n    alt: \"stop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 61\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"set-water-break-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"set-water-break\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, \"\\u05EA\\u05D6\\u05DE\\u05D5\\u05DF \\u05D4\\u05E4\\u05E1\\u05E7\\u05EA \\u05DE\\u05D9\\u05DD\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"water-break-timer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"figure\", {\n    className: \"set-break-icon\",\n    onClick: handleIncrement,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: PlusIcon,\n    alt: \"play\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, waterBreakTime === null || waterBreakTime === void 0 ? void 0 : waterBreakTime.minutes, \"  \\u05D3\\u05E7\\u05D5\\u05EA\"), /*#__PURE__*/React.createElement(\"figure\", {\n    className: \"set-break-icon\",\n    onClick: handleDecrement,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: MinusIcon,\n    alt: \"minus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(Switch, {\n    label: \"התראה בשולחן העבודה\",\n    handleSwitchChange: handleSwitchChange,\n    checked: isEnableNotification,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(DesktopNotification, {\n    title: \"WFH mate\",\n    body: \"hey mate water break now\",\n    sound: WATER_TONE,\n    showDesktopNotification: isEnableNotification ? showDesktopNotification : false,\n    isEnable: showDesktopNotification,\n    resetValue: resetValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 8\n    }\n  }));\n};\n\nexport default WaterBreakTimer;","map":{"version":3,"sources":["C:/Users/Lilach Karagula/Desktop/Work from home managementsystem/wfh-mate/src/components/waterBreakTimer/index.js"],"names":["React","useState","useEffect","message","WATER_TONE","Switch","DesktopNotification","ProgressBar","useLocalStorage","useReduceTimer","waterTimerSetIntervalTime","WaterBreakTimer","waterBreakTime","setWaterBreakTime","seconds","minutes","showDesktopNotification","setDesktopNotification","isWaterBreakStartClicked","setWaterBreakStartClicked","state","isEnableNotification","setState","setEnableNotification","prevBreakTime","clearInterval","handleSetInterval","setInterval","handleIncrement","prevState","handleDecrement","handleStart","info","handleEnd","resetValue","handleSwitchChange","value","PlayButton","StopButton","PlusIcon","MinusIcon"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport {message} from 'antd';\r\nimport {WATER_TONE} from '../../helpers/sounds';\r\nimport Switch from '../../uiElements/switch';\r\nimport DesktopNotification from '../../uiElements/desktopNotification';\r\nimport ProgressBar from '../../uiElements/progress';\r\nimport useLocalStorage  from '../../hooks/useLocalStorage';\r\nimport useReduceTimer from '../../hooks/useReduceTimer';\r\nimport PlusIcon from '../icons/plus.svg';\r\nimport MinusIcon from '../icons/minus.svg';\r\nimport PlayButton from '../icons/play.svg';\r\nimport StopButton from '../icons/stop.svg';\r\nimport './waterBreak.css'\r\n\r\nvar waterTimerSetIntervalTime=0;\r\nconst WaterBreakTimer = () => {\r\n  const [waterBreakTime,setWaterBreakTime] = useState({\r\n    seconds:0,\r\n    minutes:20\r\n  });\r\n  const [showDesktopNotification,setDesktopNotification] = useState(false);\r\n  const [isWaterBreakStartClicked,setWaterBreakStartClicked] = useState(false);\r\n  const [{state:isEnableNotification,setState:setEnableNotification}] = useLocalStorage('isDesktopNotificationWater',true);\r\n  const [state,setState] = useReduceTimer({minutes:0,seconds:0},isWaterBreakStartClicked)\r\n\r\n  useEffect(() => {\r\n    if(state?.seconds===0 && state?.minutes===0){\r\n      setState(prevBreakTime => {\r\n        return {...prevBreakTime, minutes: waterBreakTime?.minutes,seconds:0};\r\n      });\r\n   }\r\n  }, [state, setState, waterBreakTime])\r\n\r\n  useEffect(()=>{\r\n    return (()=> clearInterval(waterTimerSetIntervalTime))\r\n  },[])\r\n\r\n\r\n\r\n  const handleSetInterval = () => {\r\n   waterTimerSetIntervalTime=setInterval(function(){\r\n       setDesktopNotification(true) \r\n       setState({\r\n         minutes:waterBreakTime?.minutes-1,seconds:59\r\n       })\r\n      }, waterBreakTime?.minutes * 60000);\r\n  }\r\n\r\n   \r\n  const handleIncrement = () => {\r\n    if(waterBreakTime?.minutes<30){\r\n      setWaterBreakTime(prevBreakTime => {\r\n        return {...prevBreakTime, minutes: prevBreakTime.minutes+10};\r\n      });\r\n      setState(prevState=>{\r\n        return {...prevState, minutes: prevState.minutes+10};\r\n      })\r\n    }\r\n  \r\n  }\r\n  const handleDecrement = () => {\r\n     if(waterBreakTime?.minutes>20){\r\n      setWaterBreakTime(prevBreakTime => {\r\n        return {...prevBreakTime, minutes: prevBreakTime.minutes-10};\r\n      });\r\n      setState(prevState=>{\r\n        return {...prevState, minutes: prevState.minutes-10};\r\n      })\r\n     }\r\n    \r\n  }\r\n\r\n  const handleStart = () => {\r\n    setWaterBreakStartClicked(true);\r\n    setState(waterBreakTime);\r\n    handleSetInterval();\r\n    message.info('!התחלתי לספור');\r\n  }\r\n\r\n  const handleEnd = () => {\r\n    setWaterBreakStartClicked(false);\r\n    setState({\r\n      seconds:0,\r\n      minutes: waterBreakTime?.minutes\r\n    })\r\n    clearInterval(waterTimerSetIntervalTime);\r\n  }\r\n\r\n  const resetValue = () => {\r\n    setDesktopNotification(false)\r\n  }\r\n\r\n  const handleSwitchChange = (value) => {\r\n    setEnableNotification(value)\r\n  }\r\n\r\n  return (\r\n    <div className=\"water-break-wrapper\">\r\n        <div className=\"notify-text-water\">\r\n        </div>\r\n\r\n        <div>\r\n        <ProgressBar time={state} totalTime={waterBreakTime?.minutes}/>\r\n        <div className=\"water-break-control\">\r\n        <figure className=\"timer-icons\" onClick={handleStart}><img className=\"timer-img\"  src={PlayButton} alt=\"play/pause\"/></figure>\r\n        <figure className=\"timer-icons\" onClick={handleEnd}><img className=\"timer-img\" src={StopButton} alt=\"stop\"/></figure>\r\n        </div>\r\n       </div> \r\n\r\n\r\n       <div className=\"set-water-break-wrapper\">\r\n        <div className=\"set-water-break\">\r\n          <p>תזמון הפסקת מים</p>\r\n          <div className=\"water-break-timer\">\r\n            <figure className=\"set-break-icon\" onClick={handleIncrement}>\r\n              <img  src={PlusIcon} alt=\"play\"/>\r\n            </figure>\r\n            <p>{waterBreakTime?.minutes}  דקות</p>\r\n            <figure className=\"set-break-icon\" onClick={handleDecrement}>\r\n              <img src={MinusIcon} alt=\"minus\"/>\r\n            </figure>\r\n          </div>\r\n        </div>\r\n         <Switch label={\"התראה בשולחן העבודה\"} handleSwitchChange={handleSwitchChange} checked={isEnableNotification}/>\r\n         </div>\r\n     \r\n\r\n\r\n       <DesktopNotification\r\n        title=\"WFH mate\"\r\n        body=\"hey mate water break now\"\r\n        sound={WATER_TONE}\r\n        showDesktopNotification = { isEnableNotification?showDesktopNotification:false }\r\n        isEnable = {  showDesktopNotification }\r\n        resetValue = { resetValue }\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default WaterBreakTimer;"]},"metadata":{},"sourceType":"module"}