{"ast":null,"code":"import { useState, useEffect } from 'react';\n\nconst useLocalStorage = (key, value = '', {\n  serialize = JSON.stringify,\n  deserialize = JSON.parse\n} = {}) => {\n  const [state, setState] = useState(() => {\n    const existingValue = localStorage.getItem(key);\n\n    if (existingValue) {\n      return deserialize(existingValue);\n    }\n\n    return typeof value === 'function' ? value() : value;\n  });\n  useEffect(() => {\n    localStorage.setItem(key, serialize(state));\n  }, [state, key, serialize]);\n  return [{\n    state,\n    setState\n  }];\n};\n\nexport default useLocalStorage;","map":{"version":3,"sources":["C:/Users/Lilach Karagula/Desktop/React-Deploy/src/hooks/useLocalStorage.js"],"names":["useState","useEffect","useLocalStorage","key","value","serialize","JSON","stringify","deserialize","parse","state","setState","existingValue","localStorage","getItem","setItem"],"mappings":"AAAA,SAAQA,QAAR,EAAiBC,SAAjB,QAAiC,OAAjC;;AAEA,MAAMC,eAAe,GAAG,CAACC,GAAD,EAAKC,KAAK,GAAC,EAAX,EAAc;AAACC,EAAAA,SAAS,GAAGC,IAAI,CAACC,SAAlB;AAA6BC,EAAAA,WAAW,GAAGF,IAAI,CAACG;AAAhD,IAAyD,EAAvE,KAA8E;AACpG,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAmBX,QAAQ,CAAC,MAAI;AACpC,UAAMY,aAAa,GAAGC,YAAY,CAACC,OAAb,CAAqBX,GAArB,CAAtB;;AACA,QAAGS,aAAH,EAAiB;AACf,aAAOJ,WAAW,CAACI,aAAD,CAAlB;AACD;;AACD,WAAO,OAAOR,KAAP,KAAiB,UAAjB,GAA6BA,KAAK,EAAlC,GAAqCA,KAA5C;AACD,GANgC,CAAjC;AAQAH,EAAAA,SAAS,CAAC,MAAM;AACdY,IAAAA,YAAY,CAACE,OAAb,CAAqBZ,GAArB,EAAyBE,SAAS,CAACK,KAAD,CAAlC;AACD,GAFQ,EAEN,CAACA,KAAD,EAAOP,GAAP,EAAWE,SAAX,CAFM,CAAT;AAIA,SAAO,CAAC;AAACK,IAAAA,KAAD;AAAOC,IAAAA;AAAP,GAAD,CAAP;AACD,CAdD;;AAgBA,eAAeT,eAAf","sourcesContent":["import {useState,useEffect} from 'react';\r\n\r\nconst useLocalStorage = (key,value='',{serialize = JSON.stringify, deserialize = JSON.parse} = {}) => {\r\n  const [state,setState] = useState(()=>{\r\n    const existingValue = localStorage.getItem(key);\r\n    if(existingValue){\r\n      return deserialize(existingValue)\r\n    }\r\n    return typeof value === 'function'? value():value\r\n  })\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(key,serialize(state))\r\n  }, [state,key,serialize])\r\n\r\n  return [{state,setState}]\r\n}\r\n\r\nexport default useLocalStorage;"]},"metadata":{},"sourceType":"module"}